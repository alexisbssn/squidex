<span>
    <div class="selection">
        <input type="text" class="form-control" [disabled]="snapshot.isDisabled" (click)="open()" readonly (keydown)="onKeyDown($event)" #input
            autocomplete="off" 
            autocorrect="off"
            autocapitalize="off">
        
        <div class="control-dropdown-item" *ngIf="snapshot.selectedItem">
            <ng-container *ngIf="!templateSelection">{{snapshot.selectedItem}}</ng-container>
            
            <ng-template *ngIf="templateSelection" [sqxTemplateWrapper]="templateSelection" [item]="snapshot.selectedItem"></ng-template>
        </div>

        <i class="icon-caret-down"></i>
    </div> 

    <div class="items-container">
        <sqx-modal [model]="dropdown" [target]="input" xPosition="left">
            <div class="control-dropdown" #container>
                <div *ngFor="let item of items; let i = index;" class="control-dropdown-item control-dropdown-item-selectable" [class.active]="i === snapshot.selectedIndex" (mousedown)="selectIndexAndClose(i)" [sqxScrollActive]="i === snapshot.selectedIndex" [container]="container">
                    <ng-container *ngIf="!templateItem">{{item}}</ng-container>
                    
                    <ng-template *ngIf="templateItem" [sqxTemplateWrapper]="templateItem" [item]="item" [index]="i"></ng-template>
                </div>
            </div>
        </sqx-modal>
    </div>
</span>